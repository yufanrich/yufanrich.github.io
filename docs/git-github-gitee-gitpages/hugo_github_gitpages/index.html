<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="搭建自己的博客 # 1 背景 # 之前也用到过博客园、开源中国、csdn等常用博客网站,但是总是感觉很分散。 再加上想重新梳理一下自己的知识体系,就萌生了重新整理一遍博客内容的想法。 这个时候,想到自己经常看到的一些有些的博客，好像有很多都是个人网站。 于是，就准备动手搭建自己的博客网站了。 本文:主要采用Hugo+GitHub+GitPages. (ps:GetHub可以替换为Gitee) (ps:Hugo也有同类替代品,如Hexo、Jekyll(GitHub默认首选)) 其实:后面用的多了,一个项目可以同时提交到Gitee和GitHub后,完全可以同时部署在Gitee和GitHub. (ps:一个项目如何同时提交到Gitee和GitHub? vx公众号:小猿code) 2 实战 # 2.1 Hugo # 2.1.1 hugo安装 # 官网参考:https://gohugo.io/installation/macos/ macOs : brew install hugo 2.1.2 hugo快速入门 # # 创建一个新的网站（本地） hugo new site quickstart && cd quickstart # 拉取并设置主题 git init git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke echo theme = \&#34;ananke\&#34; >> config.toml # 创建一篇新文章 hugo new posts/my-first-post.md # 构建静态网站文件，并启动 HTTP 服务 hugo server -D 执行完上述操作，就可以通过浏览器访问 http://localhost:1313/ 可以看到自己刚创建的网站与第一篇文章 2."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="搭建自己的博客 # 1 背景 # 之前也用到过博客园、开源中国、csdn等常用博客网站,但是总是感觉很分散。 再加上想重新梳理一下自己的知识体系,就萌生了重新整理一遍博客内容的想法。 这个时候,想到自己经常看到的一些有些的博客，好像有很多都是个人网站。 于是，就准备动手搭建自己的博客网站了。 本文:主要采用Hugo+GitHub+GitPages. (ps:GetHub可以替换为Gitee) (ps:Hugo也有同类替代品,如Hexo、Jekyll(GitHub默认首选)) 其实:后面用的多了,一个项目可以同时提交到Gitee和GitHub后,完全可以同时部署在Gitee和GitHub. (ps:一个项目如何同时提交到Gitee和GitHub? vx公众号:小猿code) 2 实战 # 2.1 Hugo # 2.1.1 hugo安装 # 官网参考:https://gohugo.io/installation/macos/ macOs : brew install hugo 2.1.2 hugo快速入门 # # 创建一个新的网站（本地） hugo new site quickstart && cd quickstart # 拉取并设置主题 git init git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke echo theme = \&#34;ananke\&#34; >> config.toml # 创建一篇新文章 hugo new posts/my-first-post.md # 构建静态网站文件，并启动 HTTP 服务 hugo server -D 执行完上述操作，就可以通过浏览器访问 http://localhost:1313/ 可以看到自己刚创建的网站与第一篇文章 2."><meta property="og:type" content="article"><meta property="og:url" content="https://yufanrich.github.io/docs/git-github-gitee-gitpages/hugo_github_gitpages/"><meta property="article:section" content="docs"><title>Hugo Git Hub Git Pages | yufanrich的个人博客</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/zh.search.min.3ba7408e13af7db16f5e17f4870ac53ae7badd440969a29b731e4af75a01a49f.js integrity="sha256-O6dAjhOvfbFvXhf0hwrFOue63UQJaaKbcx5K91oBpJ8=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo><span>yufanrich的个人博客</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><p><strong>Git GitHub</strong></p><ul><li><a href=/docs/git-github-gitee-gitpages/hugo_github_gitpages/ class=active>Hugo建站</a></li><li><a href=/docs/git-github-gitee-gitpages/hugo_github_gitpages_advance/>Hugo建站(进阶)</a></li></ul></li><li><p><a href=/docs/example/><strong>Example Site</strong></a></p></li><li><p><a href=/docs/example/table-of-contents/>Table of Contents</a></p><ul><li><a href=/docs/example/table-of-contents/with-toc/>With ToC</a></li><li><a href=/docs/example/table-of-contents/without-toc/>Without ToC</a></li></ul></li><li><p><a href=/docs/example/collapsed/>Collapsed</a></p><ul><li><a href=/docs/example/collapsed/3rd-level/>3rd</a><ul><li><a href=/docs/example/collapsed/3rd-level/4th-level/>4th</a></li></ul></li></ul></li><li><p><strong>Shortcodes</strong></p></li><li><p><a href=/docs/shortcodes/buttons/>Buttons</a></p></li><li><p><a href=/docs/shortcodes/columns/>Columns</a></p></li><li><p><a href=/docs/shortcodes/expand/>Expand</a></p></li><li><p><a href=/docs/shortcodes/hints/>Hints</a></p></li><li><p><a href=/docs/shortcodes/katex/>KaTex</a></p></li><li><p><a href=/docs/shortcodes/mermaid/>Mermaid</a></p></li><li><p><a href=/docs/shortcodes/tabs/>Tabs</a></p></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Hugo Git Hub Git Pages</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#21-hugo>2.1 Hugo</a><ul><li><a href=#211-hugo安装>2.1.1 hugo安装</a></li><li><a href=#212-hugo快速入门>2.1.2 hugo快速入门</a></li><li><a href=#213-hugo-核心目录解释>2.1.3 hugo 核心目录解释</a></li></ul></li><li><a href=#22-git-仓库>2.2 git 仓库</a><ul><li><a href=#221-建立仓库的要求>2.2.1 建立仓库的要求</a></li></ul></li><li><a href=#23-github-action-实现代码提交后自动部署>2.3 GitHub Action 实现代码提交后自动部署</a><ul><li><a href=#231-创建gh-pagesyml文件>2.3.1 创建gh-pages.yml文件</a></li><li><a href=#232-gh-pagesyml-示例>2.3.2 gh-pages.yml 示例</a></li><li><a href=#233-开启git-pages>2.3.3 开启git pages</a></li><li><a href=#24-新建博客md文档提交git即可>2.4 新建博客(md文档),提交git即可</a></li></ul></li></ul><ul><li><a href=#31-hugo-server本地样式很好看github-page-样式错乱-cssjs等文件404>3.1 Hugo Server本地样式很好看,GitHub page 样式错乱 (css/js等文件404)</a></li><li><a href=#32-git-actions-执行报错>3.2 git actions 执行报错</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=搭建自己的博客>搭建自己的博客
<a class=anchor href=#%e6%90%ad%e5%bb%ba%e8%87%aa%e5%b7%b1%e7%9a%84%e5%8d%9a%e5%ae%a2>#</a></h1><h1 id=1-背景>1 背景
<a class=anchor href=#1-%e8%83%8c%e6%99%af>#</a></h1><pre tabindex=0><code>之前也用到过博客园、开源中国、csdn等常用博客网站,但是总是感觉很分散。
再加上想重新梳理一下自己的知识体系,就萌生了重新整理一遍博客内容的想法。
这个时候,想到自己经常看到的一些有些的博客，好像有很多都是个人网站。
于是，就准备动手搭建自己的博客网站了。
本文:主要采用Hugo+GitHub+GitPages.
(ps:GetHub可以替换为Gitee)
(ps:Hugo也有同类替代品,如Hexo、Jekyll(GitHub默认首选))

其实:后面用的多了,一个项目可以同时提交到Gitee和GitHub后,完全可以同时部署在Gitee和GitHub.
(ps:一个项目如何同时提交到Gitee和GitHub? vx公众号:小猿code)
</code></pre><h1 id=2-实战>2 实战
<a class=anchor href=#2-%e5%ae%9e%e6%88%98>#</a></h1><h2 id=21-hugo>2.1 Hugo
<a class=anchor href=#21-hugo>#</a></h2><h3 id=211-hugo安装>2.1.1 hugo安装
<a class=anchor href=#211-hugo%e5%ae%89%e8%a3%85>#</a></h3><pre tabindex=0><code>官网参考:https://gohugo.io/installation/macos/
macOs : brew install hugo
</code></pre><h3 id=212-hugo快速入门>2.1.2 hugo快速入门
<a class=anchor href=#212-hugo%e5%bf%ab%e9%80%9f%e5%85%a5%e9%97%a8>#</a></h3><pre tabindex=0><code># 创建一个新的网站（本地）
hugo new site quickstart &amp;&amp; cd quickstart

# 拉取并设置主题
git init
git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
echo theme = \&#34;ananke\&#34; &gt;&gt; config.toml

# 创建一篇新文章
hugo new posts/my-first-post.md

# 构建静态网站文件，并启动 HTTP 服务
hugo server -D
执行完上述操作，就可以通过浏览器访问 http://localhost:1313/ 
可以看到自己刚创建的网站与第一篇文章
</code></pre><h3 id=213-hugo-核心目录解释>2.1.3 hugo 核心目录解释
<a class=anchor href=#213-hugo-%e6%a0%b8%e5%bf%83%e7%9b%ae%e5%bd%95%e8%a7%a3%e9%87%8a>#</a></h3><pre tabindex=0><code>content: 文章存放目录
static: 静态资源存放目录, 如：图片、样式文件、脚本文件等
data: 数据模板目录，
      Hugo静态网站不会连接像MySQL这样的数据库，而此目录保存的数据相当于Hugo使用的数据库，
      生成过程用到的配置数据，可以用YAML, JSON, TOML等格式文件存储
themes: 网站主题存放目录
config.toml : 网站的配置文件，可配置网站名称、关键字、插件等

congit.toml :有一个比较重要的配置 baseURL = &#39;https://{you_name}.github.io/&#39;
      推送到github时且需要借助git pages 的能力,必须修改为如上格式。
</code></pre><h2 id=22-git-仓库>2.2 git 仓库
<a class=anchor href=#22-git-%e4%bb%93%e5%ba%93>#</a></h2><h3 id=221-建立仓库的要求>2.2.1 建立仓库的要求
<a class=anchor href=#221-%e5%bb%ba%e7%ab%8b%e4%bb%93%e5%ba%93%e7%9a%84%e8%a6%81%e6%b1%82>#</a></h3><pre tabindex=0><code>1 仓库必须时public
2 仓库名称必须是: {you_name}.github.io
</code></pre><h2 id=23-github-action-实现代码提交后自动部署>2.3 GitHub Action 实现代码提交后自动部署
<a class=anchor href=#23-github-action-%e5%ae%9e%e7%8e%b0%e4%bb%a3%e7%a0%81%e6%8f%90%e4%ba%a4%e5%90%8e%e8%87%aa%e5%8a%a8%e9%83%a8%e7%bd%b2>#</a></h2><h3 id=231-创建gh-pagesyml文件>2.3.1 创建gh-pages.yml文件
<a class=anchor href=#231-%e5%88%9b%e5%bb%bagh-pagesyml%e6%96%87%e4%bb%b6>#</a></h3><pre tabindex=0><code>本地项目根目录中创建.github/workflows/gh-pages.yml
ps:.github/workflows 固定
    gh-pages:名称随意,但是.yml固定
</code></pre><h3 id=232-gh-pagesyml-示例>2.3.2 gh-pages.yml 示例
<a class=anchor href=#232-gh-pagesyml-%e7%a4%ba%e4%be%8b>#</a></h3><pre tabindex=0><code>name: github pages

on:
  push:
    branches:
      - master  # Set a branch to deploy
  pull_request:

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
           submodules: true
           fetch-depth: 0

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: &#39;latest&#39;
          # extended: true

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        if: github.ref == &#39;refs/heads/master&#39;
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
</code></pre><pre tabindex=0><code class=language-脚本解释 data-lang=脚本解释></code></pre><h3 id=233-开启git-pages>2.3.3 开启git pages
<a class=anchor href=#233-%e5%bc%80%e5%90%afgit-pages>#</a></h3><pre tabindex=0><code>Build and deployment
必须指定为:Deploy form a branch
Branch 
必须指定为:gh-pages /root(代表根目录)
</code></pre><h3 id=24-新建博客md文档提交git即可>2.4 新建博客(md文档),提交git即可
<a class=anchor href=#24-%e6%96%b0%e5%bb%ba%e5%8d%9a%e5%ae%a2md%e6%96%87%e6%a1%a3%e6%8f%90%e4%ba%a4git%e5%8d%b3%e5%8f%af>#</a></h3><pre tabindex=0><code>提交git后,会自动触发git actions,从而把Hugo的产出输出到指定分支,
且git page 会自动监听变化,重新部署网站
</code></pre><h1 id=3-常见错误及解决方案>3 常见错误及解决方案
<a class=anchor href=#3-%e5%b8%b8%e8%a7%81%e9%94%99%e8%af%af%e5%8f%8a%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88>#</a></h1><h2 id=31-hugo-server本地样式很好看github-page-样式错乱-cssjs等文件404>3.1 Hugo Server本地样式很好看,GitHub page 样式错乱 (css/js等文件404)
<a class=anchor href=#31-hugo-server%e6%9c%ac%e5%9c%b0%e6%a0%b7%e5%bc%8f%e5%be%88%e5%a5%bd%e7%9c%8bgithub-page-%e6%a0%b7%e5%bc%8f%e9%94%99%e4%b9%b1-cssjs%e7%ad%89%e6%96%87%e4%bb%b6404>#</a></h2><pre tabindex=0><code>hugo.toml 
baseURL = &#39;https://{you_name}.github.io/&#39;
</code></pre><h2 id=32-git-actions-执行报错>3.2 git actions 执行报错
<a class=anchor href=#32-git-actions-%e6%89%a7%e8%a1%8c%e6%8a%a5%e9%94%99>#</a></h2><p>Error: Action failed with &ldquo;The process&rsquo;/usr/bin/git&rsquo; failed with exit code 128&rdquo;</p><pre tabindex=0><code>找到仓库下的settings-&gt;Actions-&gt;General，往下翻找到Workflow permissions，
勾选下面的选项Read and write permissions即可
</code></pre><h1 id=4-总结>4 总结
<a class=anchor href=#4-%e6%80%bb%e7%bb%93>#</a></h1><p>以上就完成了自动化建立博客和自动化部署的全部流程。
但是:随着md文档的编写以及博客的排版格式,我们需要一些进阶知识的学习。
如:怎么直接上传html文件？
md文档怎么上传图片?
博客如何实现层级结果以及检索功能。
欢迎wx search:小猿code</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#21-hugo>2.1 Hugo</a><ul><li><a href=#211-hugo安装>2.1.1 hugo安装</a></li><li><a href=#212-hugo快速入门>2.1.2 hugo快速入门</a></li><li><a href=#213-hugo-核心目录解释>2.1.3 hugo 核心目录解释</a></li></ul></li><li><a href=#22-git-仓库>2.2 git 仓库</a><ul><li><a href=#221-建立仓库的要求>2.2.1 建立仓库的要求</a></li></ul></li><li><a href=#23-github-action-实现代码提交后自动部署>2.3 GitHub Action 实现代码提交后自动部署</a><ul><li><a href=#231-创建gh-pagesyml文件>2.3.1 创建gh-pages.yml文件</a></li><li><a href=#232-gh-pagesyml-示例>2.3.2 gh-pages.yml 示例</a></li><li><a href=#233-开启git-pages>2.3.3 开启git pages</a></li><li><a href=#24-新建博客md文档提交git即可>2.4 新建博客(md文档),提交git即可</a></li></ul></li></ul><ul><li><a href=#31-hugo-server本地样式很好看github-page-样式错乱-cssjs等文件404>3.1 Hugo Server本地样式很好看,GitHub page 样式错乱 (css/js等文件404)</a></li><li><a href=#32-git-actions-执行报错>3.2 git actions 执行报错</a></li></ul></nav></div></aside></main></body></html>